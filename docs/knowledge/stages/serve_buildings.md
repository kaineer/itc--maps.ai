# Отдаем здания через API для последующего использования в фронтенд части

## Требования к реализации

Необходимо реализовать в папке `stages/serve_buildings` приложение с использованием Node.js и Fastify, которое будет получать данные из `stages/import/buildings.json` и `stages/import/itc.json`.

### Технические требования:
- Приложение должно работать на порту **5000**
- Должна быть реализована поддержка **CORS** для разрешения запросов с других портов
- Зависимости должны копироваться из `stages/serve_buildings/package_defaults.json` в `package.json`

## API Endpoints

### GET /start

Returns the ITC center coordinates in object format.

**Response**:
```json
{
  "x": -326.3075974725192,
  "z": 668.0390612696756
}
```

Возвращает координаты центра ITC здания.

#### Тело ответа
```yaml
x: number  # координата X из файла itc.json/center
z: number  # координата Z из файла itc.json/center
```

### `PUT /buildings`

Возвращает список зданий в пределах указанного расстояния от заданной позиции.

#### Тело запроса
```yaml
position:  # позиция, от которой рассчитывается расстояние
  x: number
  z: number
distance: number  # максимальное расстояние от центра до здания
```

#### Тело ответа
```yaml
buildings:
  - address: string | null  # адрес здания
    height: number          # высота здания в метрах (обязательное поле)
    nodes:                  # список координат узлов здания
      - [number, number]    # координаты X и Z первой точки
      - [number, number]    # координаты X и Z второй точки
      # ... остальные точки
```

#### Логика фильтрации:
Здание включается в ответ, если **хотя бы один его узел** находится на расстоянии не более указанного `distance` от заданной позиции `position`.

## Пример использования

```javascript
// Запрос зданий в радиусе 200 единиц от ITC центра
fetch('http://localhost:5000/buildings', {
  method: 'PUT',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    position: { x: -326.31, z: 668.04 },
    distance: 200
  })
})
.then(response => response.json())
.then(data => {
  // data.buildings содержит массив зданий с полями:
  // - address: адрес или null
  // - height: высота в метрах
  // - nodes: массив координат [x, z]
});
```

## Структура данных

### Источники данных:
- `stages/import/buildings.json` - информация о зданиях
- `stages/import/itc.json` - координаты центра ITC

### Формат здания в ответе:
```javascript
{
  "address": "Чкалова, 3",  // может быть null
  "height": 15,             // всегда число (в метрах)
  "nodes": [                // всегда массив координат
    [-228.53, 862.01],
    [-229.37, 847.01],
    // ...
  ]
}
```

## Важные замечания

1. **Поле height обязательно** - должно присутствовать в каждом здании в ответе
2. **CORS включен** - разрешены запросы с любых источников
3. **Координаты исправлены** - X координата инвертирована для корректного отображения
4. **Порт 5000** - приложение работает на стандартном порте для API сервисов

## Зависимости

Основные зависимости:
- `fastify` - веб-фреймворк
- `@fastify/cors` - поддержка CORS

Конфигурация зависимостей должна наследоваться из `package_defaults.json`.